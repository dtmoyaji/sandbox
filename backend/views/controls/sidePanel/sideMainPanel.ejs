<div class="sidebarPanel" id="sideMainPanel">
    <div class="sidePanelTitle">
        <label><a href="<%= basePath %>/admin"><%= sidePanelTitle %></a></label>
    </div>
    <div class="sidePanelMenu" id="sidePanelMainMenu" open="true">
        <ul>
            <li><a href="<%= basePath %>/admin/application" id="link_app" <%= currentSection === 'application' ? 'class="active"' : '' %>><%= translations['application'] %></a></li>
            <li><a href="<%= basePath %>/admin/table" id="link_table" <%= currentSection === 'table' ? 'class="active"' : '' %>><%= translations['table'] %></a></li>
            <li><a href="<%= basePath %>/admin/query" id="link_query" <%= currentSection === 'query' ? 'class="active"' : '' %>><%= translations['クエリ'] %></a></li>
            <li><a href="<%= basePath %>/admin/script" id="link_script" <%= currentSection === 'script' ? 'class="active"' : '' %>><%= translations['スクリプト'] %></a></li>
        </ul>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
        // 各リンクに完全リロード方式のイベントハンドラを追加
        const links = document.querySelectorAll('#sidePanelMainMenu a');
        links.forEach(link => {
            link.addEventListener('click', function(e) {
                // 完全リロード方式の場合はe.preventDefault()を使わない
                // URLへの直接遷移を許可
                window.location.href = this.href;
            });
        });
    });
</script>